<%- include('./partials/header') %>
<div class="container">
    <% if (pages.length){ %>
        <% pages.forEach((page)=>{ %>
            <div class="box">
                <div class="card article-list shadow-box bg-transparent">
                    <div class="card-body">
                        <h4 class="card-title font-weight-bold"
                            style="cursor: pointer"><a href="/page/<%= page.link %>" style="color: black"><%= page.title !== '' ? page.title : 'No title' %></a></h4>
                        <div>
                            <% page.tag.trim().split(" ").forEach(function (tag) { if(tag !== ""){ %>
                            <span class="badge badge-primary badge-hover"><a href='/tag/<%= tag %>' style="color: white"><%= tag %></a></span>
                            <% }}); %>
                            <span class="badge badge-success badge-hover"
                                  onclick="event.stopPropagation();location.href='/user/<%= page.author %>'"><%= page.author %></span>
                            <span class="badge badge-secondary badge-hover"
                                  onclick='event.stopPropagation();onTimeTagClicked("<%= page.time %>")'><%= page.time %></span>
                            <span class="badge badge-info badge-hover"
                                  onclick="location.href='/page/<%= page.link %>'">Views: <%= page.view %></span>
                        </div>
                        <p class="card-text">
                            <%= page.description !== undefined && page.description.trim() !== "" ? page.description : "No description" %>
                        </p>
                    </div>
            </div>
    <% })} %>
</div>


<%- include('./partials/paginator') %>
<%- include('./partials/footer') %>
